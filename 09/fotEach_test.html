<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body{
            font-family: Arial, Helvetica, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container{
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1{
            color: #333;
            text-align: center;
            border-bottom: 3px solid #007bff;
            padding-bottom: 10px;
        }
        .employee-card{
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            transition: transform 0.2s;
        }
        .employee-card:hover{
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .employee-name{
            font-size: 18px;
            font-weight: bold;
            color: #007bff;
            margin-bottom: 5px;
        }
        .employee-info{
            color: #666;
            margin: 3px 0;
        }
        .section{
            margin: 30px 0;
            padding: 20px;
            border-left: 4px solid #007bff;
        }
        .section h2{
            color: #007bff;
            margin-top: 0;
        }
        button{
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        button:hover{
            background: #0056b3;
        }
        .output{
            background: #e9ecef ;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-line;  /*ì¤„ë°”ê¿ˆ ìœ ì§€í•˜ê¸° ìœ„í•¨*/
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>forEach í™œìš© - ì§ì› ì •ë³´ ì¶œë ¥ ì‹œìŠ¤í…œ</h1>
        <div class="section">
            <h2>ëª©í‘œ</h2>
            <p><strong>forEach</strong>ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë°°ì—´ì˜ ê° ìš”ì†Œë¥¼ ìˆœíšŒí•˜ì—¬ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ëŠ” ë°©ë²•ì„ ì—°ìŠµí•œë‹¤.</p>
            <p>ì‹¤ë¬´ì—ì„œëŠ” ì§ì› ëª©ë¡, ìƒí’ˆ ëª©ë¡ ë“±ì„ í™”ë©´ì— í‘œì‹œí• ë•Œ ìì£¼ ì‚¬ìš©ë©ë‹ˆë‹¤.</p>
        </div>
        <div class="section">
            <h2>ğŸ‘ì§ì› ë°ì´í„°</h2>
            <div id="employeeList"></div>
        </div>
        <div class="section">
            <h2>ğŸ”§í‰ê°€ ë¬¸ì œ</h2>
            <button onclick="displayAllEmployees()">1. ì „ì²´ ì§ì› ëª©ë¡ ì¶œë ¥</button>
            <button onclick="displayEmployeesByDepartment()">2. ë¶€ì„œë³„ ì§ì› ì¶œë ¥</button>
            <button onclick="displayEmployeesByOdd()">3. í™€ìˆ˜ ë²ˆì§¸ ì§ì›ë“¤</button>

            <div id="output" class="output"></div>
        </div>
    </div>
    <script>
        //ì§ì› ë°ì´í„° êµ¬ì¡°
        const employees = [
        {
            id: 1,
            name: "ì´ìˆœì‹ ",
            department: "ê°œë°œíŒ€",
            position : "ì‹œë‹ˆì–´ ê°œë°œì",
            salary: 55000000,
            email: "lee.sh@choongang.com",
            phone: "010-1234-5678",
            htireDate: "2020-03-15"
        },
        {
            id: 2,
            name: "ì‹ ì‚¬ì„ë‹¹",
            department: "ë§ˆì¼€íŒ…íŒ€",
            position : "ë§ˆì¼€íŒ… ë§¤ë‹ˆì €",
            salary: 48000000,
            email: "shin.sed@choongang.com",
            phone: "010-2345-6789",
            htireDate: "2019-07-22"
        },
        {
            id: 3,
            name: "ì´ë°©ì›",
            department: "ê°œë°œíŒ€",
            position : "ì£¼ë‹ˆì–´ ê°œë°œì",
            salary: 38000000,
            email: "lee.bj@choongang.com",
            phone: "010-3456-7890",
            htireDate: "2022-01-10"
        },
        {
            id: 4,
            name: "ë¥˜ì„±ë£¡",
            department: "ì¸ì‚¬íŒ€",
            position : "ì¸ì‚¬ ë‹´ë‹¹ì",
            salary: 42000000,
            email: "ryu.sl@choongang.com",
            phone: "010-4567-8901",
            htireDate: "2021-05-03"
        },
        {
            id: 5,
            name: "ì†í¥ë¯¼",
            department: "ì˜ì—…íŒ€",
            position : "ì˜ì—… ëŒ€ë¦¬",
            salary: 40000000,
            email: "son.hm@choongang.com",
            phone: "010-5678-9012",
            htireDate: "2021-11-18"
        },
    ];
        //í˜ì´ì§€ ë¡œë“œ ì‹œ ì§ì› ì¹´ë“œ í‘œì‹œ
        window.onload = function(){
            displayEmployeeCards();
        }
        //ì§ì› ì¹´ë“œ í˜•íƒœë¡œ í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
        function displayEmployeeCards(){
            const  container = document.getElementById('employeeList')
            let html = '';
            //forEachë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì§ì› ì •ë³´ë¥¼ ì¹´ë“œ í˜•íƒœë¡œ ë³€í™˜
            employees.forEach((employee, index)=>{
                html += `
                    <div class="employee-card">
                        <div class="employee-name">${employee.name}(${employee.position})</div>
                        <div class="employee-info">ğŸ¢ ë¶€ì„œ: ${employee.department}</div>
                        <div class="employee-info">ğŸ’° ê¸‰ì—¬: ${employee.salary}</div>
                        <div class="employee-info">ğŸ“§ ì´ë©”ì¼: ${employee.email}</div>
                        <div class="employee-info">ğŸ“ì—°ë½ì²˜: ${employee.phone}</div>
                        <div class="employee-info">ğŸ“… ì…ì‚¬ì¼: ${employee.htireDate}</div>
                    </div>
                `;
            })
            container.innerHTML = html; //ì§ì› ì¹´ë“œ HTML ìƒì„±, í™”ë©´ì— í‘œì‹œ
            console.log("ì§ì› ì¹´ë“œê°€ ì„±ê³µì ìœ¼ë¡œ í‘œì‹œë˜ì—ˆìŠµë‹ˆë‹¤.");
        };
        //1. ì „ì²´ ì§ì› ëª©ë¡ì„ í™”ë©´, ì½˜ì†”ì— ì¶œë ¥
        function displayAllEmployees(){
            const output = document.getElementById('output')
            let result = "==== ì „ì²´ ì§ì› ëª©ë¡ ====\n\n";
            
            //forEach
            employees.forEach((employee, index)=>{
                result += `${index+1}. ${employee.name} - ${employee.department} ${employee.position}\n`;
                console.log(`${employee.name} - ${employee.department} ${employee.position}`)
            })
            output.textContent = result;
        }
        //2.ë¶€ì„œë³„ë¡œ ì§ì›ì„ ê·¸ë£¹í™”í•˜ì—¬ ì¶œë ¥
        function displayEmployeesByDepartment(){
            const output = document.getElementById('output')
            let result = "==== ë¶€ì„œë³„ ì§ì› í˜„í™© ====\n\n"
            //ë¶€ì„œë³„ ê·¸ë£¹í™”ë¥¼ ìœ„í•œ ê°ì²´
            const departmentGroups = {};
            //forEachë¥¼ ì‚¬ìš©í•˜ì—¬ ë¶€ì„œë³„ë¡œ ê·¸ë£¹í™”
            employees.forEach((employee)=>{
                //ë¶€ì„œê°€ ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”
                if(!departmentGroups[employee.department]){
                    departmentGroups[employee.department] = [];
                }
                //í•´ë‹¹ ë¶€ì„œì— ì§ì› ì¶”ê°€
                departmentGroups[employee.department].push(employee);
                
            })
            //ê° ë¶€ì„œë³„ë¡œ ì§ì› ëª©ë¡ ì¶œë ¥
            Object.keys(departmentGroups).forEach((department)=>{
                result += `ğŸ“${department}:\n`
                console.log (`ğŸ“${department}:`)
                //í•´ë‹¹ ë¶€ì„œì˜ ì§ì›ë“¤ì„ ìˆœíšŒí•˜ë©° ì¶œë ¥
                departmentGroups[department].forEach((employee, index)=>{
                    result += `${index + 1}. ${employee.name} (${employee.position})\n`
                    console.log( `${index + 1}. ${employee.name} (${employee.position})\n`)
                })
                result += "\n"
            })
            output.textContent = result;
        }
        //3. í™€ìˆ˜ë²ˆì§¸ ì§ì›ë“¤ ëª©ë¡ ì¶œë ¥
        
             function displayEmployeesByOdd(){
            const output = document.getElementById('output');
            let result = ""; // ê²°ê³¼ë¥¼ ì €ì¥í•  ë¬¸ìì—´

            // --- 1. í™€ìˆ˜ ë²ˆì§¸ ì§ì› ëª©ë¡ ìƒì„¸ ---
            result += "=== í™€ìˆ˜ ë²ˆì§¸ ì§ì›ë“¤ ===\n\n";   
            result += "ğŸ“‹ ì¡°ê±´: ëª©ë¡ì—ì„œ í™€ìˆ˜ ë²ˆì§¸ ìœ„ì¹˜ (1, 3, 5ë²ˆì§¸)ì— ìˆëŠ” ì§ì›\n\n";
            result += "ğŸ“ í™€ìˆ˜ ë²ˆì§¸ ì§ì› ëª©ë¡:\n";

            const oddEmployees = []; // í™€ìˆ˜ ë²ˆì§¸ ì§ì›ë§Œ ë”°ë¡œ ëª¨ì„ ë°°ì—´
            employees.forEach((employee, index) => {
            // ë°°ì—´ ì¸ë±ìŠ¤ 0, 2, 4... ê°€ 1ë²ˆì§¸, 3ë²ˆì§¸, 5ë²ˆì§¸ ì§ì›ì— í•´ë‹¹
            if ((index+1) % 2 !== 0) {
            oddEmployees.push(employee); // í™€ìˆ˜ ë²ˆì§¸ ì§ì›ë§Œ oddEmployeesì— ì¶”ê°€
            result += `${index + 1}ë²ˆì§¸: ${employee.name}\n`;
            result += `ì§ì±…: ${employee.position}\n`;
            result += `ë¶€ì„œ: ${employee.department}\n`;
            result += `ê¸‰ì—¬: ${employee.salary.toLocaleString()}ì›\n\n`; //
            }
            });

            

            // --- 2. í™€ìˆ˜ ë²ˆì§¸ ì§ì› í†µê³„ ---
            result += "\nğŸ“Š í™€ìˆ˜ ë²ˆì§¸ ì§ì› í†µê³„:\n";
            let totalOddEmployees = oddEmployees.length;
            let totalOddSalary = 0;
            oddEmployees.forEach(employee => { // oddEmployees ë°°ì—´ë¡œ í†µê³„ ê³„ì‚°
            totalOddSalary += employee.salary;
            });
            let averageOddSalary = Math.round(totalOddSalary/totalOddEmployees)
            //let averageOddSalary = (totalOddEmployees > 0) ? (totalOddSalary / totalOddEmployees) : 0; ì‚¼í•­ì—°ì‚°ìë¥¼ ì´ìš©í•œ í‰ê·  êµ¬í•˜ê¸°

            result += `ì´ ì¸ì›: ${totalOddEmployees}ëª…\n`;
            result += `ì´ ê¸‰ì—¬: ${totalOddSalary.toLocaleString()}ì›\n`;
            result += `í‰ê·  ê¸‰ì—¬: ${(averageOddSalary).toLocaleString()}ì›\n`; 
            

            // --- 3. ë¶€ì„œë³„ ë¶„í¬ (í™€ìˆ˜ ë²ˆì§¸ ì§ì›ë“¤ë§Œ ëŒ€ìƒ) ---
            result += "\nğŸ“‹ ë¶€ì„œë³„ ë¶„í¬:\n"; 
            //ê°ì²´ ì¹´ìš´íŒ… íŒ¨í„´
            const oddDepartmentCounts = {}; //ë¶€ì„œë³„ ì¸ì›ìˆ˜ë¥¼ ì €ì¥í•  ë¹ˆê°ì²´ ìƒì„±
            /*
                oddDepartmentCounts[employee.department]: í•´ë‹¹ ë¶€ì„œì˜ í˜„ì¬ ì¹´ìš´íŠ¸ ê°’
                1ì°¨: oddDepartmentCounts["ê°œë°œíŒ€"]= (undefined || 0) + 1 = 1
                2ì°¨: oddDepartmentCounts["ê°œë°œíŒ€"]= (1 || 0) + 1 = 2
                3ì°¨: oddDepartmentCounts["ì˜ì—…íŒ€"]= (undefined || 0) + 1 = 1
            */
           
            oddEmployees.forEach(employee => {              
            if (!oddDepartmentCounts[employee.department]) {
            oddDepartmentCounts[employee.department] = 0;
            }
            oddDepartmentCounts[employee.department]++;
            });
            
            Object.keys(oddDepartmentCounts).forEach(department => {
            result += `${department}: ${oddDepartmentCounts[department]}ëª…\n`;
            });
            output.textContent = result; // ìµœì¢… ê²°ê³¼ í•œ ë²ˆì— ì¶œë ¥
            }
    </script>
</body>
</html>